<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acry DSE Quiz - 未來學習平台</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-text">Acry DSE Quiz</span>
                    <span class="logo-subtitle">未來學習平台</span>
                </div>
                <div class="user-stats">
                    <div class="stat-item">
                        <span class="stat-label">總分</span>
                        <span class="stat-value" id="totalScore">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">連勝</span>
                        <span class="stat-value" id="streak">0</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Dashboard -->
        <main class="main-content">
            <div id="dashboard" class="dashboard active">
                <h1 class="dashboard-title">選擇你的挑戰</h1>
                <div class="categories-grid" id="categoriesGrid">
                    <!-- Categories will be generated by JavaScript -->
                </div>
                
                <div class="dashboard-actions">
                    <button class="btn btn--neon" id="leaderboardBtn">
                        🏆 勁抽榜
                    </button>
                    <button class="btn btn--neon" id="addQuestionBtn">
                        ➕ 新增題目
                    </button>
                </div>
            </div>

            <!-- Category Selection -->
            <div id="categoryPage" class="category-page hidden">
                <button class="back-btn" id="backToDashboard">← 返回</button>
                <h2 class="category-title" id="categoryTitle"></h2>
                
                <div class="mode-selection">
                    <div class="mode-card" data-mode="quiz">
                        <div class="mode-icon">🎯</div>
                        <h3>Quiz 模式</h3>
                        <p>即時判分，毒舌feedback</p>
                    </div>
                    <div class="mode-card" data-mode="flashcard">
                        <div class="mode-icon">🔄</div>
                        <h3>Flash Card 模式</h3>
                        <p>翻牌學習，隨機出題</p>
                    </div>
                    <div class="mode-card" data-mode="faq">
                        <div class="mode-icon">📚</div>
                        <h3>FAQ 模式</h3>
                        <p>詳細解釋，深度學習</p>
                    </div>
                </div>
            </div>

            <!-- Quiz Mode -->
            <div id="quizPage" class="quiz-page hidden">
                <button class="back-btn" id="backToCategory">← 返回</button>
                <div class="quiz-header">
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <span class="question-counter" id="questionCounter">1 / 10</span>
                    </div>
                    <div class="quiz-score" id="quizScore">分數: 0</div>
                </div>
                
                <div class="question-card" id="questionCard">
                    <div class="question-text" id="questionText"></div>
                    <div class="question-options" id="questionOptions"></div>
                    <div class="question-actions">
                        <button class="btn btn--hint" id="hintBtn">💡 提示</button>
                        <button class="btn btn--notes" id="notesBtn">📝 筆記</button>
                    </div>
                </div>
                
                <div class="feedback-modal hidden" id="feedbackModal">
                    <div class="feedback-content">
                        <div class="feedback-emoji" id="feedbackEmoji"></div>
                        <div class="feedback-message" id="feedbackMessage"></div>
                        <div class="feedback-explanation" id="feedbackExplanation"></div>
                        <button class="btn btn--primary" id="nextQuestionBtn">下一題</button>
                    </div>
                </div>
            </div>

            <!-- Flash Card Mode -->
            <div id="flashcardPage" class="flashcard-page hidden">
                <button class="back-btn" id="backToCategoryFlash">← 返回</button>
                <div class="flashcard-controls">
                    <button class="btn btn--secondary" id="shuffleBtn">🔄 洗牌</button>
                    <span class="card-counter" id="cardCounter">1 / 10</span>
                    <button class="btn btn--secondary" id="autoModeBtn">⏯️ 自動</button>
                </div>
                
                <div class="flashcard-container">
                    <div class="flashcard" id="flashcard" data-flipped="false">
                        <div class="flashcard-front">
                            <div class="flashcard-content" id="flashcardQuestion"></div>
                            <div class="flashcard-hint">點擊翻牌查看答案</div>
                        </div>
                        <div class="flashcard-back">
                            <div class="flashcard-content" id="flashcardAnswer"></div>
                            <div class="flashcard-notes" id="flashcardNotes"></div>
                        </div>
                    </div>
                </div>
                
                <div class="flashcard-actions">
                    <button class="btn btn--difficulty easy" data-difficulty="easy">😊 簡單</button>
                    <button class="btn btn--difficulty medium" data-difficulty="medium">😐 一般</button>
                    <button class="btn btn--difficulty hard" data-difficulty="hard">😰 困難</button>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn--secondary" id="prevCardBtn">← 上一張</button>
                    <button class="btn btn--primary" id="nextCardBtn">下一張 →</button>
                </div>
            </div>

            <!-- FAQ Mode -->
            <div id="faqPage" class="faq-page hidden">
                <button class="back-btn" id="backToCategoryFaq">← 返回</button>
                <h2 class="faq-title">知識庫</h2>
                
                <div class="search-bar">
                    <input type="text" placeholder="搜尋問題..." id="faqSearch" class="form-control">
                </div>
                
                <div class="faq-list" id="faqList">
                    <!-- FAQ items will be generated by JavaScript -->
                </div>
            </div>

            <!-- Leaderboard -->
            <div id="leaderboard" class="leaderboard hidden">
                <button class="back-btn" id="backFromLeaderboard">← 返回</button>
                <h2 class="leaderboard-title">🏆 勁抽榜</h2>
                
                <div class="leaderboard-tabs">
                    <button class="tab-btn active" data-tab="daily">今日</button>
                    <button class="tab-btn" data-tab="weekly">本週</button>
                    <button class="tab-btn" data-tab="all">總榜</button>
                </div>
                
                <div class="leaderboard-content" id="leaderboardContent">
                    <!-- Leaderboard entries will be generated by JavaScript -->
                </div>
                
                <div class="achievements-section">
                    <h3>成就系統</h3>
                    <div class="achievements-grid" id="achievementsGrid">
                        <!-- Achievements will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Add Question Form -->
            <div id="addQuestionForm" class="add-question-form hidden">
                <button class="back-btn" id="backFromAddQuestion">← 返回</button>
                <h2 class="form-title">新增題目</h2>
                
                <form id="questionForm" class="question-form">
                    <div class="form-group">
                        <label class="form-label">科目</label>
                        <select id="questionCategory" class="form-control">
                            <option value="economics">DSE Economics</option>
                            <option value="chinese">中文</option>
                            <option value="english">English</option>
                            <option value="history">中史</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">題目</label>
                        <textarea id="questionInput" class="form-control" rows="3" placeholder="輸入你的題目..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">正確答案</label>
                        <input type="text" id="answerInput" class="form-control" placeholder="輸入正確答案...">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">選項 (用 | 分隔)</label>
                        <input type="text" id="optionsInput" class="form-control" placeholder="選項A|選項B|選項C|選項D">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">難度</label>
                        <select id="difficultySelect" class="form-control">
                            <option value="easy">簡單</option>
                            <option value="medium">中等</option>
                            <option value="hard">困難</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">提示 (用 | 分隔)</label>
                        <input type="text" id="hintsInput" class="form-control" placeholder="提示1|提示2|提示3">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">筆記</label>
                        <textarea id="notesInput" class="form-control" rows="3" placeholder="額外筆記或記憶法..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">詳細解釋</label>
                        <textarea id="explanationInput" class="form-control" rows="4" placeholder="詳細解釋答案..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn--primary btn--full-width">新增題目</button>
                </form>
            </div>
        </main>

        <!-- Hint Modal -->
        <div class="modal hidden" id="hintModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>💡 提示</h3>
                    <button class="close-btn" id="closeHint">✕</button>
                </div>
                <div class="modal-body">
                    <div id="hintContent"></div>
                </div>
            </div>
        </div>

        <!-- Notes Modal -->
        <div class="modal hidden" id="notesModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>📝 筆記</h3>
                    <button class="close-btn" id="closeNotes">✕</button>
                </div>
                <div class="modal-body">
                    <div id="notesContent"></div>
                </div>
            </div>
        </div>

        <!-- Results Modal -->
        <div class="modal hidden" id="resultsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>🎯 測驗結果</h3>
                    <button class="close-btn" id="closeResults">✕</button>
                </div>
                <div class="modal-body">
                    <div class="results-summary" id="resultsSummary"></div>
                    <div class="results-actions">
                        <button class="btn btn--primary" id="retryQuiz">重新測驗</button>
                        <button class="btn btn--secondary" id="backToDashboardFromResults">返回主頁</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>